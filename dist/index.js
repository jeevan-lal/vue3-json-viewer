"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),p=(d,l)=>{const n=d.__vccOpts||d;for(const[i,k]of l)n[i]=k;return n},le={},re={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"};function ae(d,l){return e.openBlock(),e.createElementBlock("svg",re,l[0]||(l[0]=[e.createElementVNode("circle",{cx:"12",cy:"12",r:"3"},null,-1),e.createElementVNode("line",{x1:"12",y1:"15",x2:"12",y2:"21"},null,-1),e.createElementVNode("line",{x1:"12",y1:"9",x2:"12",y2:"3"},null,-1)]))}const se=p(le,[["render",ae]]),ce={},de={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"};function ie(d,l){return e.openBlock(),e.createElementBlock("svg",de,l[0]||(l[0]=[e.createElementVNode("polyline",{points:"16,18 22,12 16,6"},null,-1),e.createElementVNode("polyline",{points:"8,6 2,12 8,18"},null,-1)]))}const ue=p(ce,[["render",ie]]),pe={},me={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"};function ye(d,l){return e.openBlock(),e.createElementBlock("svg",me,l[0]||(l[0]=[e.createElementVNode("polyline",{points:"7,13 12,18 17,13"},null,-1),e.createElementVNode("polyline",{points:"7,6 12,11 17,6"},null,-1)]))}const Z=p(pe,[["render",ye]]),he={},ke={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"};function fe(d,l){return e.openBlock(),e.createElementBlock("svg",ke,l[0]||(l[0]=[e.createElementVNode("polyline",{points:"17,11 12,6 7,11"},null,-1),e.createElementVNode("polyline",{points:"17,18 12,13 7,18"},null,-1)]))}const ee=p(he,[["render",fe]]),ve={},Be={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"};function Ne(d,l){return e.openBlock(),e.createElementBlock("svg",Be,l[0]||(l[0]=[e.createElementVNode("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},null,-1),e.createElementVNode("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},null,-1)]))}const ge=p(ve,[["render",Ne]]),Ee={},Ve={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"};function _e(d,l){return e.openBlock(),e.createElementBlock("svg",Ve,l[0]||(l[0]=[e.createElementVNode("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},null,-1),e.createElementVNode("polyline",{points:"17,21 17,13 7,13 7,21"},null,-1),e.createElementVNode("polyline",{points:"7,3 7,8 15,8"},null,-1)]))}const we=p(Ee,[["render",_e]]),Ce={},be={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"};function xe(d,l){return e.openBlock(),e.createElementBlock("svg",be,l[0]||(l[0]=[e.createElementVNode("circle",{cx:"12",cy:"12",r:"10"},null,-1),e.createElementVNode("line",{x1:"15",y1:"9",x2:"9",y2:"15"},null,-1),e.createElementVNode("line",{x1:"9",y1:"9",x2:"15",y2:"15"},null,-1)]))}const $e=p(Ce,[["render",xe]]),Se={},je={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"};function Te(d,l){return e.openBlock(),e.createElementBlock("svg",je,l[0]||(l[0]=[e.createElementVNode("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},null,-1),e.createElementVNode("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},null,-1)]))}const Je=p(Se,[["render",Te]]),Me={},Ae={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"};function De(d,l){return e.openBlock(),e.createElementBlock("svg",Ae,l[0]||(l[0]=[e.createElementVNode("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},null,-1),e.createElementVNode("polyline",{points:"7,10 12,15 17,10"},null,-1),e.createElementVNode("line",{x1:"12",y1:"15",x2:"12",y2:"3"},null,-1)]))}const Oe=p(Me,[["render",De]]),Ie={},Ke={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"};function Le(d,l){return e.openBlock(),e.createElementBlock("svg",Ke,l[0]||(l[0]=[e.createElementVNode("circle",{cx:"11",cy:"11",r:"8"},null,-1),e.createElementVNode("path",{d:"M21 21l-4.35-4.35"},null,-1)]))}const ze=p(Ie,[["render",Le]]),Fe={},He={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"};function Ue(d,l){return e.openBlock(),e.createElementBlock("svg",He,l[0]||(l[0]=[e.createElementVNode("line",{x1:"18",y1:"6",x2:"6",y2:"18"},null,-1),e.createElementVNode("line",{x1:"6",y1:"6",x2:"18",y2:"18"},null,-1)]))}const qe=p(Fe,[["render",Ue]]),Pe={},Qe={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"};function Re(d,l){return e.openBlock(),e.createElementBlock("svg",Qe,l[0]||(l[0]=[e.createElementVNode("polyline",{points:"9,18 15,12 9,6"},null,-1)]))}const Xe=p(Pe,[["render",Re]]),Ge={},We={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"};function Ye(d,l){return e.openBlock(),e.createElementBlock("svg",We,l[0]||(l[0]=[e.createElementVNode("polyline",{points:"6,9 12,15 18,9"},null,-1)]))}const Ze=p(Ge,[["render",Ye]]),et={},tt={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"};function nt(d,l){return e.openBlock(),e.createElementBlock("svg",tt,l[0]||(l[0]=[e.createElementVNode("line",{x1:"12",y1:"5",x2:"12",y2:"19"},null,-1),e.createElementVNode("line",{x1:"5",y1:"12",x2:"19",y2:"12"},null,-1)]))}const ot=p(et,[["render",nt]]),lt={},rt={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"};function at(d,l){return e.openBlock(),e.createElementBlock("svg",rt,l[0]||(l[0]=[e.createElementVNode("polyline",{points:"3,6 5,6 21,6"},null,-1),e.createElementVNode("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},null,-1),e.createElementVNode("line",{x1:"10",y1:"11",x2:"10",y2:"17"},null,-1),e.createElementVNode("line",{x1:"14",y1:"11",x2:"14",y2:"17"},null,-1)]))}const st=p(lt,[["render",at]]),ct={},dt={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"};function it(d,l){return e.openBlock(),e.createElementBlock("svg",dt,l[0]||(l[0]=[e.createElementVNode("polyline",{points:"20,6 9,17 4,12"},null,-1)]))}const ut=p(ct,[["render",it]]),pt={},mt={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"};function yt(d,l){return e.openBlock(),e.createElementBlock("svg",mt,l[0]||(l[0]=[e.createElementVNode("line",{x1:"18",y1:"6",x2:"6",y2:"18"},null,-1),e.createElementVNode("line",{x1:"6",y1:"6",x2:"18",y2:"18"},null,-1)]))}const ht=p(pt,[["render",yt]]),kt={},ft={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"};function vt(d,l){return e.openBlock(),e.createElementBlock("svg",ft,l[0]||(l[0]=[e.createElementVNode("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"},null,-1)]))}const Bt=p(kt,[["render",vt]]),Nt={},gt={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"};function Et(d,l){return e.openBlock(),e.createElementBlock("svg",gt,l[0]||(l[0]=[e.createStaticVNode('<circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>',9)]))}const Vt=p(Nt,[["render",Et]]),_t={key:0,class:"expand-icon"},wt={key:1,class:"expand-placeholder"},Ct={class:"node-value"},bt=["type"],xt={key:2,class:"node-controls"},$t=["title"],St={key:0,class:"children"},jt={key:0,class:"add-form"},Tt={key:1,class:"colon"},Jt={class:"add-controls"},Mt=e.defineComponent({__name:"JsonNode",props:{node:{},editable:{type:Boolean,default:!1},searchQuery:{default:""}},emits:["node-click","node-expand","node-collapse","value-change","key-change","node-delete","node-add"],setup(d,{emit:l}){const n=d,i=l,k=e.ref(!1),v=e.ref(!1),E=e.ref(""),f=e.ref(""),B=e.ref(!1),N=e.ref(""),u=e.ref(""),C=e.ref(),V=e.ref(),_=e.computed(()=>n.node.type==="object"||n.node.type==="array"),O=e.computed(()=>n.node.level>0),F=e.computed(()=>n.node.level===0?n.node.type==="array"?"Array":"Object":U()==="array"?`[${n.node.key}]`:`"${n.node.key}"`),H=e.computed(()=>{if(!n.searchQuery)return!1;const o=n.searchQuery.toLowerCase(),a=n.node.key.toLowerCase().includes(o),m=typeof n.node.value=="string"&&n.node.value.toLowerCase().includes(o);return a||m}),I=e.computed(()=>!n.node.children||!n.searchQuery?n.node.children||[]:n.node.children.filter(o=>{const a=n.searchQuery.toLowerCase(),m=o.key.toLowerCase().includes(a),h=typeof o.value=="string"&&o.value.toLowerCase().includes(a),x=T(o,a);return m||h||x})),U=()=>n.node.path.length<=1?null:"object",q=()=>n.node.type==="array"?`Array[${Array.isArray(n.node.value)?n.node.value.length:0}]`:n.node.type==="object"?`Object{${n.node.value&&typeof n.node.value=="object"?Object.keys(n.node.value).length:0}}`:"",P=o=>o===null?"null":typeof o=="string"?`"${o}"`:typeof o=="boolean"||typeof o=="number"?o.toString():String(o),K=()=>{switch(n.node.type){case"number":return"number";case"boolean":return"checkbox";default:return"text"}},T=(o,a)=>o.children?o.children.some(m=>{const h=m.key.toLowerCase().includes(a),x=typeof m.value=="string"&&m.value.toLowerCase().includes(a),y=T(m,a);return h||x||y}):!1,Q=()=>{_.value&&L(),i("node-click",n.node)},L=()=>{n.node.expanded?i("node-collapse",n.node):i("node-expand",n.node)},R=()=>{!n.editable||!O.value||(E.value=n.node.key,k.value=!0,e.nextTick(()=>{var o,a;(o=C.value)==null||o.focus(),(a=C.value)==null||a.select()}))},z=()=>{E.value!==n.node.key&&i("key-change",{node:n.node,oldKey:n.node.key,newKey:E.value}),J()},J=()=>{k.value=!1,E.value=""},X=()=>{if(!(!n.editable||_.value)){if(n.node.type==="boolean"){i("value-change",{node:n.node,value:!n.node.value});return}f.value=n.node.type==="string"?n.node.value:String(n.node.value),v.value=!0,e.nextTick(()=>{var o,a;(o=V.value)==null||o.focus(),(a=V.value)==null||a.select()})}},b=()=>{let o=f.value;try{switch(n.node.type){case"number":if(o=parseFloat(f.value),isNaN(o)){alert("Invalid number format");return}break;case"boolean":o=f.value==="true";break;case"string":o=f.value;break;default:o=JSON.parse(f.value)}i("value-change",{node:n.node,value:o})}catch{alert("Invalid value format");return}M()},M=()=>{v.value=!1,f.value=""},G=()=>{confirm("Are you sure you want to delete this item?")&&i("node-delete",n.node)},W=()=>{B.value=!0,N.value="",u.value="",n.node.type==="array"?e.nextTick(()=>{const o=document.querySelector(".add-form .value-input");o==null||o.focus()}):e.nextTick(()=>{const o=document.querySelector(".add-form .key-input");o==null||o.focus()})},A=()=>{var o;try{let a=N.value,m=u.value;if(n.node.type==="object"&&!a.trim()){alert("Key is required for object properties");return}n.node.type==="array"&&(a=(((o=n.node.children)==null?void 0:o.length)||0).toString());try{m=JSON.parse(u.value)}catch{u.value==="true"||u.value==="false"?m=u.value==="true":!isNaN(Number(u.value))&&u.value.trim()!==""?m=Number(u.value):u.value==="null"?m=null:m=u.value}i("node-add",{parent:n.node,key:a,value:m}),j()}catch{alert("Invalid value format")}},j=()=>{B.value=!1,N.value="",u.value=""};return e.watch(()=>n.searchQuery,o=>{o&&_.value&&T(n.node,o.toLowerCase())&&i("node-expand",n.node)}),(o,a)=>{const m=e.resolveComponent("JsonNode",!0);return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["json-node",`level-${o.node.level}`])},[e.createElementVNode("div",{class:e.normalizeClass(["node-header",{expandable:_.value,expanded:o.node.expanded,highlighted:H.value}]),onClick:Q},[e.createElementVNode("div",{class:"indentation",style:e.normalizeStyle({width:`${o.node.level*20}px`})},null,4),_.value?(e.openBlock(),e.createElementBlock("div",_t,[o.node.expanded?(e.openBlock(),e.createBlock(e.unref(Ze),{key:1})):(e.openBlock(),e.createBlock(e.unref(Xe),{key:0}))])):(e.openBlock(),e.createElementBlock("div",wt)),e.createElementVNode("span",{class:e.normalizeClass(["node-key",{editable:o.editable&&O.value}])},[k.value?e.withDirectives((e.openBlock(),e.createElementBlock("input",{key:0,"onUpdate:modelValue":a[0]||(a[0]=h=>E.value=h),onBlur:z,onKeydown:[e.withKeys(z,["enter"]),e.withKeys(J,["escape"])],class:"key-input",ref_key:"keyInput",ref:C},null,544)),[[e.vModelText,E.value]]):(e.openBlock(),e.createElementBlock("span",{key:1,onDblclick:R},e.toDisplayString(F.value),33))],2),a[11]||(a[11]=e.createElementVNode("span",{class:"colon"},":",-1)),e.createElementVNode("div",Ct,[_.value?(e.openBlock(),e.createElementBlock("span",{key:1,class:e.normalizeClass(["value-summary",`value-${o.node.type}`])},e.toDisplayString(q()),3)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[v.value?e.withDirectives((e.openBlock(),e.createElementBlock("input",{key:0,"onUpdate:modelValue":a[1]||(a[1]=h=>f.value=h),type:K(),onBlur:b,onKeydown:[e.withKeys(b,["enter"]),e.withKeys(M,["escape"])],class:e.normalizeClass(["value-input",`value-${o.node.type}`]),ref_key:"valueInput",ref:V},null,42,bt)),[[e.vModelDynamic,f.value]]):(e.openBlock(),e.createElementBlock("span",{key:1,class:e.normalizeClass(["value-display",`value-${o.node.type}`,{editable:o.editable}]),onDblclick:X},e.toDisplayString(P(o.node.value)),35))],64))]),o.editable?(e.openBlock(),e.createElementBlock("div",xt,[_.value?(e.openBlock(),e.createElementBlock("button",{key:0,onClick:e.withModifiers(L,["stop"]),class:"control-icon",title:o.node.expanded?"Collapse":"Expand"},[o.node.expanded?(e.openBlock(),e.createBlock(e.unref(ee),{key:0})):(e.openBlock(),e.createBlock(e.unref(Z),{key:1}))],8,$t)):e.createCommentVNode("",!0),o.node.type==="object"||o.node.type==="array"?(e.openBlock(),e.createElementBlock("button",{key:1,onClick:e.withModifiers(W,["stop"]),class:"control-icon add-icon",title:"Add Item"},[e.createVNode(e.unref(ot))])):e.createCommentVNode("",!0),e.createElementVNode("button",{onClick:e.withModifiers(G,["stop"]),class:"control-icon delete-icon",title:"Delete"},[e.createVNode(e.unref(st))])])):e.createCommentVNode("",!0)],2),_.value&&o.node.expanded&&o.node.children?(e.openBlock(),e.createElementBlock("div",St,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(I.value,(h,x)=>(e.openBlock(),e.createBlock(m,{key:`${h.path.join(".")}-${x}`,node:h,editable:o.editable,"search-query":o.searchQuery,onNodeClick:a[2]||(a[2]=y=>o.$emit("node-click",y)),onNodeExpand:a[3]||(a[3]=y=>o.$emit("node-expand",y)),onNodeCollapse:a[4]||(a[4]=y=>o.$emit("node-collapse",y)),onValueChange:a[5]||(a[5]=y=>o.$emit("value-change",y)),onKeyChange:a[6]||(a[6]=y=>o.$emit("key-change",y)),onNodeDelete:a[7]||(a[7]=y=>o.$emit("node-delete",y)),onNodeAdd:a[8]||(a[8]=y=>o.$emit("node-add",y))},null,8,["node","editable","search-query"]))),128)),B.value?(e.openBlock(),e.createElementBlock("div",jt,[e.createElementVNode("div",{class:"indentation",style:e.normalizeStyle({width:`${(o.node.level+1)*20}px`})},null,4),a[12]||(a[12]=e.createElementVNode("div",{class:"expand-placeholder"},null,-1)),o.node.type==="object"?e.withDirectives((e.openBlock(),e.createElementBlock("input",{key:0,"onUpdate:modelValue":a[9]||(a[9]=h=>N.value=h),placeholder:"Key",class:"key-input",onKeydown:[e.withKeys(A,["enter"]),e.withKeys(j,["escape"])]},null,544)),[[e.vModelText,N.value]]):e.createCommentVNode("",!0),o.node.type==="object"?(e.openBlock(),e.createElementBlock("span",Tt,":")):e.createCommentVNode("",!0),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":a[10]||(a[10]=h=>u.value=h),placeholder:"Value",class:"value-input",onKeydown:[e.withKeys(A,["enter"]),e.withKeys(j,["escape"])]},null,544),[[e.vModelText,u.value]]),e.createElementVNode("div",Jt,[e.createElementVNode("button",{onClick:A,class:"add-btn",title:"Add"},[e.createVNode(e.unref(ut))]),e.createElementVNode("button",{onClick:j,class:"cancel-btn",title:"Cancel"},[e.createVNode(e.unref(ht))])])])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)],2)}}});const te=p(Mt,[["__scopeId","data-v-9f60c056"]]),At={key:0,class:"menu-bar"},Dt={key:0,class:"mode-switcher"},Ot={key:0},It={key:0},Kt={key:1,class:"tree-controls"},Lt={key:0},zt={key:0},Ft={key:2,class:"edit-controls"},Ht={key:0},Ut={key:0},qt={key:0},Pt={class:"additional-controls"},Qt={key:0},Rt=["title"],Xt={class:"view-area"},Gt={key:0,class:"search-bar"},Wt={key:1,class:"tree-view"},Yt={key:2,class:"text-view"},Zt={key:1,class:"json-display-container"},en={key:0,class:"line-numbers"},tn={class:"json-display"},nn=["innerHTML"],on={key:0,class:"json-error-message"},ln={key:1,class:"footer"},rn={class:"footer-info"},an={class:"info-item"},sn={class:"info-item"},cn={key:0,class:"info-item"},dn=e.defineComponent({__name:"JsonViewer",props:{data:{},editable:{type:Boolean,default:!0},theme:{default:"light"},defaultMode:{default:"tree"},showLineNumbers:{type:Boolean,default:!1},maxDepth:{default:3},hideActionText:{type:Boolean,default:!1},hideHeader:{type:Boolean,default:!1},hideFooter:{type:Boolean,default:!1},hideModeSwitcher:{type:Boolean,default:!1},hideTreeControls:{type:Boolean,default:!1},hideEditControls:{type:Boolean,default:!1},hideSearchButton:{type:Boolean,default:!1},hideCopyButton:{type:Boolean,default:!1},hideDownloadButton:{type:Boolean,default:!1},hideThemeButton:{type:Boolean,default:!1}},emits:["update:data","node-click","node-expand","node-collapse","key-change","edit-start","edit-save","edit-cancel","theme-change"],setup(d,{emit:l}){const n=d,i=l,k=e.ref(n.defaultMode),v=e.ref(!1),E=e.ref(""),f=e.ref(!1),B=e.ref(""),N=e.ref(null),u=e.ref(!1),C=e.ref(""),V=e.ref([]),_=e.computed(()=>JSON.stringify(n.data).length),O=e.computed(()=>{const t=r=>{let s=r.length;return r.forEach(c=>{c.children&&(s+=t(c.children))}),s};return t(V.value)}),F=e.computed(()=>{if(!n.data)return"";const t=JSON.stringify(n.data,null,2);return G(t)}),H=e.computed(()=>{if(!n.data||!n.showLineNumbers)return[];const r=JSON.stringify(n.data,null,2).split(`
`);return Array.from({length:r.length},(s,c)=>c+1)}),I=t=>{k.value=t},U=()=>{v.value?K():q()},q=()=>{N.value=JSON.parse(JSON.stringify(n.data)),B.value=JSON.stringify(n.data,null,2),v.value=!0,i("edit-start")},P=()=>{if(k.value==="text"){if(u.value){alert("Please fix JSON errors before saving");return}try{const t=JSON.parse(B.value);i("update:data",t)}catch{alert("Invalid JSON format");return}}v.value=!1,N.value=null,i("edit-save",n.data)},K=()=>{N.value&&(i("update:data",N.value),B.value=JSON.stringify(N.value,null,2)),v.value=!1,N.value=null,u.value=!1,C.value="",i("edit-cancel")},T=()=>{const t=r=>{r.forEach(s=>{(s.type==="object"||s.type==="array")&&(s.expanded=!0,s.children&&t(s.children))})};t(V.value)},Q=()=>{const t=r=>{r.forEach(s=>{(s.type==="object"||s.type==="array")&&(s.expanded=!1,s.children&&t(s.children))})};t(V.value)},L=async()=>{try{const t=JSON.stringify(n.data,null,2);await navigator.clipboard.writeText(t);const r=document.querySelector(".copy-btn");r&&(r.classList.add("copied"),setTimeout(()=>{r.classList.remove("copied")},1500))}catch(t){console.error("Failed to copy to clipboard:",t)}},R=()=>{const t=JSON.stringify(n.data,null,2),r=new Blob([t],{type:"application/json"}),s=URL.createObjectURL(r),c=document.createElement("a");c.href=s,c.download="data.json",document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(s)},z=()=>{const t=n.theme==="light"?"dark":"light";i("theme-change",t)},J=()=>{f.value=!f.value,f.value||(E.value="")},X=()=>{try{JSON.parse(B.value),u.value=!1,C.value=""}catch(t){u.value=!0,C.value=t.message}},b=(t,r=[],s=0)=>{const c=[];return t===null?[{key:"",value:null,type:"null",path:r,level:s}]:(Array.isArray(t)?t.forEach((g,w)=>{const $=[...r,w.toString()],S=M(g),D={key:w.toString(),value:g,type:S,path:$,level:s,expanded:s<n.maxDepth};(S==="object"||S==="array")&&(D.children=b(g,$,s+1)),c.push(D)}):typeof t=="object"&&Object.entries(t).forEach(([g,w])=>{const $=[...r,g],S=M(w),D={key:g,value:w,type:S,path:$,level:s,expanded:s<n.maxDepth};(S==="object"||S==="array")&&(D.children=b(w,$,s+1)),c.push(D)}),c)},M=t=>t===null?"null":Array.isArray(t)?"array":typeof t=="object"?"object":typeof t=="string"?"string":typeof t=="number"?"number":typeof t=="boolean"?"boolean":"string",G=t=>t.replace(/("[\w\s]*")\s*:/g,'<span class="json-key">$1</span>:').replace(/:\s*(".*?")/g,': <span class="json-string">$1</span>').replace(/:\s*(true|false)/g,': <span class="json-boolean">$1</span>').replace(/:\s*(null)/g,': <span class="json-null">$1</span>').replace(/:\s*(\d+\.?\d*)/g,': <span class="json-number">$1</span>'),W=t=>t<1024?`${t} B`:t<1024*1024?`${(t/1024).toFixed(1)} KB`:`${(t/(1024*1024)).toFixed(1)} MB`,A=t=>{i("node-click",t)},j=t=>{t.expanded=!0,i("node-expand",t)},o=t=>{t.expanded=!1,i("node-collapse",t)},a=t=>{const r=JSON.parse(JSON.stringify(n.data));y(r,t.node.path,t.value),i("update:data",r)},m=t=>{const r=JSON.parse(JSON.stringify(n.data)),s=t.node.path.slice(0,-1),c=Y(r,s);if(c&&typeof c=="object"){const g=c[t.oldKey];delete c[t.oldKey],c[t.newKey]=g,t.node.path[t.node.path.length-1]=t.newKey}i("update:data",r)},h=t=>{const r=JSON.parse(JSON.stringify(n.data));oe(r,t.path),i("update:data",r)},x=t=>{const r=JSON.parse(JSON.stringify(n.data)),s=t.parent.path,c=Y(r,s);Array.isArray(c)?c.push(t.value):typeof c=="object"&&(c[t.key]=t.value),i("update:data",r)},y=(t,r,s)=>{const c=r[r.length-1],g=r.slice(0,-1).reduce((w,$)=>w[$],t);g[c]=s},oe=(t,r)=>{const s=r[r.length-1],c=r.slice(0,-1).reduce((g,w)=>g[w],t);Array.isArray(c)?c.splice(parseInt(s),1):delete c[s]},Y=(t,r)=>r.reduce((s,c)=>s[c],t);return e.watch(()=>n.data,t=>{V.value=b(t),B.value=JSON.stringify(t,null,2)},{deep:!0,immediate:!0}),e.onMounted(()=>{V.value=b(n.data),B.value=JSON.stringify(n.data,null,2)}),(t,r)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["json-viewer",`theme-${t.theme}`,{"no-header":t.hideHeader,"no-footer":t.hideFooter}])},[t.hideHeader?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",At,[t.hideModeSwitcher?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Dt,[e.createElementVNode("button",{class:e.normalizeClass(["mode-btn",{active:k.value==="tree"}]),onClick:r[0]||(r[0]=s=>I("tree"))},[e.createVNode(e.unref(se)),t.hideActionText?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("span",Ot,"Tree"))],2),e.createElementVNode("button",{class:e.normalizeClass(["mode-btn",{active:k.value==="text"}]),onClick:r[1]||(r[1]=s=>I("text"))},[e.createVNode(e.unref(ue)),t.hideActionText?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("span",It,"Text"))],2)])),!t.hideTreeControls&&k.value==="tree"?(e.openBlock(),e.createElementBlock("div",Kt,[e.createElementVNode("button",{class:"control-btn",onClick:T,title:"Expand All"},[e.createVNode(e.unref(Z)),t.hideActionText?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("span",Lt,"Expand All"))]),e.createElementVNode("button",{class:"control-btn",onClick:Q,title:"Collapse All"},[e.createVNode(e.unref(ee)),t.hideActionText?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("span",zt,"Collapse All"))])])):e.createCommentVNode("",!0),t.hideEditControls?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Ft,[e.createElementVNode("button",{class:e.normalizeClass(["control-btn",{active:v.value}]),onClick:U,title:"Toggle Edit Mode"},[e.createVNode(e.unref(ge)),t.hideActionText?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("span",Ht,e.toDisplayString(v.value?"Exit Edit":"Edit"),1))],2),v.value?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("button",{class:"control-btn save-btn",onClick:P,title:"Save Changes"},[e.createVNode(e.unref(we)),t.hideActionText?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("span",Ut,"Save"))]),e.createElementVNode("button",{class:"control-btn cancel-btn",onClick:K,title:"Cancel Changes"},[e.createVNode(e.unref($e)),t.hideActionText?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("span",qt,"Cancel"))])],64)):e.createCommentVNode("",!0)])),e.createElementVNode("div",Pt,[t.hideSearchButton?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:0,class:"control-btn",onClick:J,title:"Search JSON"},[e.createVNode(e.unref(ze)),t.hideActionText?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("span",Qt,"Search"))])),t.hideCopyButton?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:1,class:"control-btn copy-btn",onClick:L,title:"Copy JSON"},[e.createVNode(e.unref(Je))])),t.hideDownloadButton?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:2,class:"control-btn",onClick:R,title:"Download JSON"},[e.createVNode(e.unref(Oe))])),t.hideThemeButton?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:3,class:"control-btn",onClick:z,title:n.theme==="light"?"Switch to Dark Theme":"Switch to Light Theme"},[n.theme==="light"?(e.openBlock(),e.createBlock(e.unref(Bt),{key:0,class:"theme-icon"})):(e.openBlock(),e.createBlock(e.unref(Vt),{key:1,class:"theme-icon"}))],8,Rt))])])),e.createElementVNode("div",Xt,[f.value?(e.openBlock(),e.createElementBlock("div",Gt,[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":r[2]||(r[2]=s=>E.value=s),type:"text",placeholder:"Search JSON...",class:"search-input"},null,512),[[e.vModelText,E.value]]),e.createElementVNode("button",{class:"search-btn",onClick:J},[e.createVNode(e.unref(qe))])])):e.createCommentVNode("",!0),k.value==="tree"?(e.openBlock(),e.createElementBlock("div",Wt,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(V.value,(s,c)=>(e.openBlock(),e.createBlock(te,{key:`${s.path.join(".")}-${c}`,node:s,editable:v.value,"search-query":E.value,onNodeClick:A,onNodeExpand:j,onNodeCollapse:o,onValueChange:a,onKeyChange:m,onNodeDelete:h,onNodeAdd:x},null,8,["node","editable","search-query"]))),128))])):(e.openBlock(),e.createElementBlock("div",Yt,[e.createElementVNode("div",{class:e.normalizeClass(["text-editor",{"with-line-numbers":t.showLineNumbers}])},[v.value?e.withDirectives((e.openBlock(),e.createElementBlock("textarea",{key:0,"onUpdate:modelValue":r[3]||(r[3]=s=>B.value=s),class:e.normalizeClass(["json-textarea",{error:u.value}]),onInput:X},null,34)),[[e.vModelText,B.value]]):(e.openBlock(),e.createElementBlock("div",Zt,[t.showLineNumbers?(e.openBlock(),e.createElementBlock("div",en,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(H.value,s=>(e.openBlock(),e.createElementBlock("span",{key:s,class:"line-number"},e.toDisplayString(s),1))),128))])):e.createCommentVNode("",!0),e.createElementVNode("pre",tn,[e.createElementVNode("code",{innerHTML:F.value},null,8,nn)])]))],2),u.value?(e.openBlock(),e.createElementBlock("div",on," Invalid JSON: "+e.toDisplayString(C.value),1)):e.createCommentVNode("",!0)]))]),t.hideFooter?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",ln,[e.createElementVNode("div",rn,[e.createElementVNode("span",an,[r[4]||(r[4]=e.createTextVNode(" Mode: ",-1)),e.createElementVNode("strong",null,e.toDisplayString(k.value),1)]),e.createElementVNode("span",sn,[r[5]||(r[5]=e.createTextVNode(" Size: ",-1)),e.createElementVNode("strong",null,e.toDisplayString(W(_.value)),1)]),k.value==="tree"?(e.openBlock(),e.createElementBlock("span",cn,[r[6]||(r[6]=e.createTextVNode(" Nodes: ",-1)),e.createElementVNode("strong",null,e.toDisplayString(O.value),1)])):e.createCommentVNode("",!0)])]))],2))}});const ne=p(dn,[["__scopeId","data-v-bbe167f2"]]);exports.JsonNode=te;exports.JsonViewer=ne;exports.default=ne;
