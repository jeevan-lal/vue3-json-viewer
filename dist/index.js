"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),p=(d,l)=>{const o=d.__vccOpts||d;for(const[i,v]of l)o[i]=v;return o},oe={},le={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"};function re(d,l){return e.openBlock(),e.createElementBlock("svg",le,l[0]||(l[0]=[e.createElementVNode("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},null,-1),e.createElementVNode("circle",{cx:"12",cy:"10",r:"3"},null,-1)]))}const ae=p(oe,[["render",re]]),se={},ce={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"};function de(d,l){return e.openBlock(),e.createElementBlock("svg",ce,l[0]||(l[0]=[e.createElementVNode("polyline",{points:"16,18 22,12 16,6"},null,-1),e.createElementVNode("polyline",{points:"8,6 2,12 8,18"},null,-1)]))}const ie=p(se,[["render",de]]),ue={},pe={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"};function me(d,l){return e.openBlock(),e.createElementBlock("svg",pe,l[0]||(l[0]=[e.createElementVNode("polyline",{points:"7,13 12,18 17,13"},null,-1),e.createElementVNode("polyline",{points:"7,6 12,11 17,6"},null,-1)]))}const Y=p(ue,[["render",me]]),ye={},fe={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"};function ve(d,l){return e.openBlock(),e.createElementBlock("svg",fe,l[0]||(l[0]=[e.createElementVNode("polyline",{points:"17,11 12,6 7,11"},null,-1),e.createElementVNode("polyline",{points:"17,18 12,13 7,18"},null,-1)]))}const Z=p(ye,[["render",ve]]),he={},ke={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"};function Ne(d,l){return e.openBlock(),e.createElementBlock("svg",ke,l[0]||(l[0]=[e.createElementVNode("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},null,-1),e.createElementVNode("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},null,-1)]))}const ge=p(he,[["render",Ne]]),Ee={},_e={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"};function Be(d,l){return e.openBlock(),e.createElementBlock("svg",_e,l[0]||(l[0]=[e.createElementVNode("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},null,-1),e.createElementVNode("polyline",{points:"17,21 17,13 7,13 7,21"},null,-1),e.createElementVNode("polyline",{points:"7,3 7,8 15,8"},null,-1)]))}const Ve=p(Ee,[["render",Be]]),we={},xe={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"};function be(d,l){return e.openBlock(),e.createElementBlock("svg",xe,l[0]||(l[0]=[e.createElementVNode("circle",{cx:"12",cy:"12",r:"10"},null,-1),e.createElementVNode("line",{x1:"15",y1:"9",x2:"9",y2:"15"},null,-1),e.createElementVNode("line",{x1:"9",y1:"9",x2:"15",y2:"15"},null,-1)]))}const Ce=p(we,[["render",be]]),$e={},Se={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"};function je(d,l){return e.openBlock(),e.createElementBlock("svg",Se,l[0]||(l[0]=[e.createElementVNode("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},null,-1),e.createElementVNode("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},null,-1)]))}const Te=p($e,[["render",je]]),Je={},Me={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"};function Ae(d,l){return e.openBlock(),e.createElementBlock("svg",Me,l[0]||(l[0]=[e.createElementVNode("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},null,-1),e.createElementVNode("polyline",{points:"7,10 12,15 17,10"},null,-1),e.createElementVNode("line",{x1:"12",y1:"15",x2:"12",y2:"3"},null,-1)]))}const Oe=p(Je,[["render",Ae]]),De={},Ie={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"};function Ke(d,l){return e.openBlock(),e.createElementBlock("svg",Ie,l[0]||(l[0]=[e.createStaticVNode('<circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>',9)]))}const Le=p(De,[["render",Ke]]),ze={},Fe={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"};function Ue(d,l){return e.openBlock(),e.createElementBlock("svg",Fe,l[0]||(l[0]=[e.createElementVNode("circle",{cx:"11",cy:"11",r:"8"},null,-1),e.createElementVNode("path",{d:"M21 21l-4.35-4.35"},null,-1)]))}const He=p(ze,[["render",Ue]]),qe={},Pe={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"};function Qe(d,l){return e.openBlock(),e.createElementBlock("svg",Pe,l[0]||(l[0]=[e.createElementVNode("line",{x1:"18",y1:"6",x2:"6",y2:"18"},null,-1),e.createElementVNode("line",{x1:"6",y1:"6",x2:"18",y2:"18"},null,-1)]))}const Re=p(qe,[["render",Qe]]),Xe={},Ge={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"};function We(d,l){return e.openBlock(),e.createElementBlock("svg",Ge,l[0]||(l[0]=[e.createElementVNode("polyline",{points:"9,18 15,12 9,6"},null,-1)]))}const Ye=p(Xe,[["render",We]]),Ze={},et={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"};function tt(d,l){return e.openBlock(),e.createElementBlock("svg",et,l[0]||(l[0]=[e.createElementVNode("polyline",{points:"6,9 12,15 18,9"},null,-1)]))}const nt=p(Ze,[["render",tt]]),ot={},lt={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"};function rt(d,l){return e.openBlock(),e.createElementBlock("svg",lt,l[0]||(l[0]=[e.createElementVNode("line",{x1:"12",y1:"5",x2:"12",y2:"19"},null,-1),e.createElementVNode("line",{x1:"5",y1:"12",x2:"19",y2:"12"},null,-1)]))}const at=p(ot,[["render",rt]]),st={},ct={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"};function dt(d,l){return e.openBlock(),e.createElementBlock("svg",ct,l[0]||(l[0]=[e.createElementVNode("polyline",{points:"3,6 5,6 21,6"},null,-1),e.createElementVNode("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},null,-1),e.createElementVNode("line",{x1:"10",y1:"11",x2:"10",y2:"17"},null,-1),e.createElementVNode("line",{x1:"14",y1:"11",x2:"14",y2:"17"},null,-1)]))}const it=p(st,[["render",dt]]),ut={},pt={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"};function mt(d,l){return e.openBlock(),e.createElementBlock("svg",pt,l[0]||(l[0]=[e.createElementVNode("polyline",{points:"20,6 9,17 4,12"},null,-1)]))}const yt=p(ut,[["render",mt]]),ft={},vt={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"};function ht(d,l){return e.openBlock(),e.createElementBlock("svg",vt,l[0]||(l[0]=[e.createElementVNode("line",{x1:"18",y1:"6",x2:"6",y2:"18"},null,-1),e.createElementVNode("line",{x1:"6",y1:"6",x2:"18",y2:"18"},null,-1)]))}const kt=p(ft,[["render",ht]]),Nt={key:0,class:"expand-icon"},gt={key:1,class:"expand-placeholder"},Et={class:"node-value"},_t=["type"],Bt={key:2,class:"node-controls"},Vt=["title"],wt={key:0,class:"children"},xt={key:0,class:"add-form"},bt={key:1,class:"colon"},Ct={class:"add-controls"},$t=e.defineComponent({__name:"JsonNode",props:{node:{},editable:{type:Boolean,default:!1},searchQuery:{default:""}},emits:["node-click","node-expand","node-collapse","value-change","node-delete","node-add"],setup(d,{emit:l}){const o=d,i=l,v=e.ref(!1),k=e.ref(!1),E=e.ref(""),h=e.ref(""),N=e.ref(!1),g=e.ref(""),u=e.ref(""),x=e.ref(),_=e.ref(),B=e.computed(()=>o.node.type==="object"||o.node.type==="array"),D=e.computed(()=>o.node.level>0),F=e.computed(()=>o.node.level===0?o.node.type==="array"?"Array":"Object":H()==="array"?`[${o.node.key}]`:`"${o.node.key}"`),U=e.computed(()=>{if(!o.searchQuery)return!1;const n=o.searchQuery.toLowerCase(),r=o.node.key.toLowerCase().includes(n),m=typeof o.node.value=="string"&&o.node.value.toLowerCase().includes(n);return r||m}),I=e.computed(()=>!o.node.children||!o.searchQuery?o.node.children||[]:o.node.children.filter(n=>{const r=o.searchQuery.toLowerCase(),m=n.key.toLowerCase().includes(r),y=typeof n.value=="string"&&n.value.toLowerCase().includes(r),C=T(n,r);return m||y||C})),H=()=>o.node.path.length<=1?null:"object",q=()=>o.node.type==="array"?`Array[${Array.isArray(o.node.value)?o.node.value.length:0}]`:o.node.type==="object"?`Object{${o.node.value&&typeof o.node.value=="object"?Object.keys(o.node.value).length:0}}`:"",P=n=>n===null?"null":typeof n=="string"?`"${n}"`:typeof n=="boolean"||typeof n=="number"?n.toString():String(n),K=()=>{switch(o.node.type){case"number":return"number";case"boolean":return"checkbox";default:return"text"}},T=(n,r)=>n.children?n.children.some(m=>{const y=m.key.toLowerCase().includes(r),C=typeof m.value=="string"&&m.value.toLowerCase().includes(r),f=T(m,r);return y||C||f}):!1,Q=()=>{B.value&&L(),i("node-click",o.node)},L=()=>{o.node.expanded?i("node-collapse",o.node):i("node-expand",o.node)},R=()=>{!o.editable||!D.value||(E.value=o.node.key,v.value=!0,e.nextTick(()=>{var n,r;(n=x.value)==null||n.focus(),(r=x.value)==null||r.select()}))},z=()=>{E.value!==o.node.key&&i("value-change",{node:{...o.node,key:E.value},value:o.node.value}),J()},J=()=>{v.value=!1,E.value=""},X=()=>{if(!(!o.editable||B.value)){if(o.node.type==="boolean"){i("value-change",{node:o.node,value:!o.node.value});return}h.value=o.node.type==="string"?o.node.value:String(o.node.value),k.value=!0,e.nextTick(()=>{var n,r;(n=_.value)==null||n.focus(),(r=_.value)==null||r.select()})}},b=()=>{let n=h.value;try{switch(o.node.type){case"number":if(n=parseFloat(h.value),isNaN(n)){alert("Invalid number format");return}break;case"boolean":n=h.value==="true";break;case"string":n=h.value;break;default:n=JSON.parse(h.value)}i("value-change",{node:o.node,value:n})}catch{alert("Invalid value format");return}M()},M=()=>{k.value=!1,h.value=""},G=()=>{confirm("Are you sure you want to delete this item?")&&i("node-delete",o.node)},W=()=>{N.value=!0,g.value="",u.value="",o.node.type==="array"?e.nextTick(()=>{const n=document.querySelector(".add-form .value-input");n==null||n.focus()}):e.nextTick(()=>{const n=document.querySelector(".add-form .key-input");n==null||n.focus()})},A=()=>{var n;try{let r=g.value,m=u.value;if(o.node.type==="object"&&!r.trim()){alert("Key is required for object properties");return}o.node.type==="array"&&(r=(((n=o.node.children)==null?void 0:n.length)||0).toString());try{m=JSON.parse(u.value)}catch{u.value==="true"||u.value==="false"?m=u.value==="true":!isNaN(Number(u.value))&&u.value.trim()!==""?m=Number(u.value):u.value==="null"?m=null:m=u.value}i("node-add",{parent:o.node,key:r,value:m}),j()}catch{alert("Invalid value format")}},j=()=>{N.value=!1,g.value="",u.value=""};return e.watch(()=>o.searchQuery,n=>{n&&B.value&&T(o.node,n.toLowerCase())&&i("node-expand",o.node)}),(n,r)=>{const m=e.resolveComponent("JsonNode",!0);return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["json-node",`level-${n.node.level}`])},[e.createElementVNode("div",{class:e.normalizeClass(["node-header",{expandable:B.value,expanded:n.node.expanded,highlighted:U.value}]),onClick:Q},[e.createElementVNode("div",{class:"indentation",style:e.normalizeStyle({width:`${n.node.level*20}px`})},null,4),B.value?(e.openBlock(),e.createElementBlock("div",Nt,[n.node.expanded?(e.openBlock(),e.createBlock(e.unref(nt),{key:1})):(e.openBlock(),e.createBlock(e.unref(Ye),{key:0}))])):(e.openBlock(),e.createElementBlock("div",gt)),e.createElementVNode("span",{class:e.normalizeClass(["node-key",{editable:n.editable&&D.value}])},[v.value?e.withDirectives((e.openBlock(),e.createElementBlock("input",{key:0,"onUpdate:modelValue":r[0]||(r[0]=y=>E.value=y),onBlur:z,onKeydown:[e.withKeys(z,["enter"]),e.withKeys(J,["escape"])],class:"key-input",ref_key:"keyInput",ref:x},null,544)),[[e.vModelText,E.value]]):(e.openBlock(),e.createElementBlock("span",{key:1,onDblclick:R},e.toDisplayString(F.value),33))],2),r[10]||(r[10]=e.createElementVNode("span",{class:"colon"},":",-1)),e.createElementVNode("div",Et,[B.value?(e.openBlock(),e.createElementBlock("span",{key:1,class:e.normalizeClass(["value-summary",`value-${n.node.type}`])},e.toDisplayString(q()),3)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[k.value?e.withDirectives((e.openBlock(),e.createElementBlock("input",{key:0,"onUpdate:modelValue":r[1]||(r[1]=y=>h.value=y),type:K(),onBlur:b,onKeydown:[e.withKeys(b,["enter"]),e.withKeys(M,["escape"])],class:e.normalizeClass(["value-input",`value-${n.node.type}`]),ref_key:"valueInput",ref:_},null,42,_t)),[[e.vModelDynamic,h.value]]):(e.openBlock(),e.createElementBlock("span",{key:1,class:e.normalizeClass(["value-display",`value-${n.node.type}`,{editable:n.editable}]),onDblclick:X},e.toDisplayString(P(n.node.value)),35))],64))]),n.editable?(e.openBlock(),e.createElementBlock("div",Bt,[B.value?(e.openBlock(),e.createElementBlock("button",{key:0,onClick:e.withModifiers(L,["stop"]),class:"control-icon",title:n.node.expanded?"Collapse":"Expand"},[n.node.expanded?(e.openBlock(),e.createBlock(e.unref(Z),{key:0})):(e.openBlock(),e.createBlock(e.unref(Y),{key:1}))],8,Vt)):e.createCommentVNode("",!0),n.node.type==="object"||n.node.type==="array"?(e.openBlock(),e.createElementBlock("button",{key:1,onClick:e.withModifiers(W,["stop"]),class:"control-icon add-icon",title:"Add Item"},[e.createVNode(e.unref(at))])):e.createCommentVNode("",!0),e.createElementVNode("button",{onClick:e.withModifiers(G,["stop"]),class:"control-icon delete-icon",title:"Delete"},[e.createVNode(e.unref(it))])])):e.createCommentVNode("",!0)],2),B.value&&n.node.expanded&&n.node.children?(e.openBlock(),e.createElementBlock("div",wt,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(I.value,(y,C)=>(e.openBlock(),e.createBlock(m,{key:`${y.path.join(".")}-${C}`,node:y,editable:n.editable,"search-query":n.searchQuery,onNodeClick:r[2]||(r[2]=f=>n.$emit("node-click",f)),onNodeExpand:r[3]||(r[3]=f=>n.$emit("node-expand",f)),onNodeCollapse:r[4]||(r[4]=f=>n.$emit("node-collapse",f)),onValueChange:r[5]||(r[5]=f=>n.$emit("value-change",f)),onNodeDelete:r[6]||(r[6]=f=>n.$emit("node-delete",f)),onNodeAdd:r[7]||(r[7]=f=>n.$emit("node-add",f))},null,8,["node","editable","search-query"]))),128)),N.value?(e.openBlock(),e.createElementBlock("div",xt,[e.createElementVNode("div",{class:"indentation",style:e.normalizeStyle({width:`${(n.node.level+1)*20}px`})},null,4),r[11]||(r[11]=e.createElementVNode("div",{class:"expand-placeholder"},null,-1)),n.node.type==="object"?e.withDirectives((e.openBlock(),e.createElementBlock("input",{key:0,"onUpdate:modelValue":r[8]||(r[8]=y=>g.value=y),placeholder:"Key",class:"key-input",onKeydown:[e.withKeys(A,["enter"]),e.withKeys(j,["escape"])]},null,544)),[[e.vModelText,g.value]]):e.createCommentVNode("",!0),n.node.type==="object"?(e.openBlock(),e.createElementBlock("span",bt,":")):e.createCommentVNode("",!0),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":r[9]||(r[9]=y=>u.value=y),placeholder:"Value",class:"value-input",onKeydown:[e.withKeys(A,["enter"]),e.withKeys(j,["escape"])]},null,544),[[e.vModelText,u.value]]),e.createElementVNode("div",Ct,[e.createElementVNode("button",{onClick:A,class:"add-btn",title:"Add"},[e.createVNode(e.unref(yt))]),e.createElementVNode("button",{onClick:j,class:"cancel-btn",title:"Cancel"},[e.createVNode(e.unref(kt))])])])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)],2)}}});const ee=p($t,[["__scopeId","data-v-5472ec5d"]]),St={class:"menu-bar"},jt={class:"menu-section"},Tt={class:"mode-switcher"},Jt={key:0},Mt={key:0},At={class:"menu-section"},Ot={key:0,class:"tree-controls"},Dt={key:0},It={key:0},Kt={class:"edit-controls"},Lt={key:0},zt={key:0},Ft={key:0},Ut={class:"menu-section"},Ht={class:"additional-controls"},qt={class:"view-area"},Pt={key:0,class:"search-bar"},Qt={key:1,class:"tree-view"},Rt={key:2,class:"text-view"},Xt={key:1,class:"json-display-container"},Gt={key:0,class:"line-numbers"},Wt={class:"json-display"},Yt=["innerHTML"],Zt={key:0,class:"error-message"},en={class:"footer"},tn={class:"footer-info"},nn={class:"info-item"},on={class:"info-item"},ln={key:0,class:"info-item"},rn={class:"footer-actions"},an={key:0},sn=e.defineComponent({__name:"JsonViewer",props:{data:{},editable:{type:Boolean,default:!0},theme:{default:"light"},defaultMode:{default:"tree"},showLineNumbers:{type:Boolean,default:!1},maxDepth:{default:3},hideActionText:{type:Boolean,default:!1}},emits:["update:data","node-click","node-expand","node-collapse","edit-start","edit-save","edit-cancel","theme-change"],setup(d,{emit:l}){const o=d,i=l,v=e.ref(o.defaultMode),k=e.ref(!1),E=e.ref(""),h=e.ref(!1),N=e.ref(""),g=e.ref(null),u=e.ref(!1),x=e.ref(""),_=e.ref([]),B=e.computed(()=>JSON.stringify(o.data).length),D=e.computed(()=>{const t=a=>{let s=a.length;return a.forEach(c=>{c.children&&(s+=t(c.children))}),s};return t(_.value)}),F=e.computed(()=>{if(!o.data)return"";const t=JSON.stringify(o.data,null,2);return G(t)}),U=e.computed(()=>{if(!o.data||!o.showLineNumbers)return[];const a=JSON.stringify(o.data,null,2).split(`
`);return Array.from({length:a.length},(s,c)=>c+1)}),I=t=>{v.value=t},H=()=>{k.value?K():q()},q=()=>{g.value=JSON.parse(JSON.stringify(o.data)),N.value=JSON.stringify(o.data,null,2),k.value=!0,i("edit-start")},P=()=>{if(v.value==="text"){if(u.value){alert("Please fix JSON errors before saving");return}try{const t=JSON.parse(N.value);i("update:data",t)}catch{alert("Invalid JSON format");return}}k.value=!1,g.value=null,i("edit-save",o.data)},K=()=>{g.value&&(i("update:data",g.value),N.value=JSON.stringify(g.value,null,2)),k.value=!1,g.value=null,u.value=!1,x.value="",i("edit-cancel")},T=()=>{const t=a=>{a.forEach(s=>{(s.type==="object"||s.type==="array")&&(s.expanded=!0,s.children&&t(s.children))})};t(_.value)},Q=()=>{const t=a=>{a.forEach(s=>{(s.type==="object"||s.type==="array")&&(s.expanded=!1,s.children&&t(s.children))})};t(_.value)},L=async()=>{try{const t=JSON.stringify(o.data,null,2);await navigator.clipboard.writeText(t)}catch(t){console.error("Failed to copy to clipboard:",t)}},R=()=>{const t=JSON.stringify(o.data,null,2),a=new Blob([t],{type:"application/json"}),s=URL.createObjectURL(a),c=document.createElement("a");c.href=s,c.download="data.json",document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(s)},z=()=>{const t=o.theme==="light"?"dark":"light";i("theme-change",t)},J=()=>{h.value=!h.value,h.value||(E.value="")},X=()=>{try{JSON.parse(N.value),u.value=!1,x.value=""}catch(t){u.value=!0,x.value=t.message}},b=(t,a=[],s=0)=>{const c=[];return t===null?[{key:"",value:null,type:"null",path:a,level:s}]:(Array.isArray(t)?t.forEach((V,w)=>{const $=[...a,w.toString()],S=M(V),O={key:w.toString(),value:V,type:S,path:$,level:s,expanded:s<o.maxDepth};(S==="object"||S==="array")&&(O.children=b(V,$,s+1)),c.push(O)}):typeof t=="object"&&Object.entries(t).forEach(([V,w])=>{const $=[...a,V],S=M(w),O={key:V,value:w,type:S,path:$,level:s,expanded:s<o.maxDepth};(S==="object"||S==="array")&&(O.children=b(w,$,s+1)),c.push(O)}),c)},M=t=>t===null?"null":Array.isArray(t)?"array":typeof t=="object"?"object":typeof t=="string"?"string":typeof t=="number"?"number":typeof t=="boolean"?"boolean":"string",G=t=>t.replace(/("[\w\s]*")\s*:/g,'<span class="json-key">$1</span>:').replace(/:\s*(".*?")/g,': <span class="json-string">$1</span>').replace(/:\s*(true|false)/g,': <span class="json-boolean">$1</span>').replace(/:\s*(null)/g,': <span class="json-null">$1</span>').replace(/:\s*(\d+\.?\d*)/g,': <span class="json-number">$1</span>'),W=t=>t<1024?`${t} B`:t<1024*1024?`${(t/1024).toFixed(1)} KB`:`${(t/(1024*1024)).toFixed(1)} MB`,A=t=>{i("node-click",t)},j=t=>{t.expanded=!0,i("node-expand",t)},n=t=>{t.expanded=!1,i("node-collapse",t)},r=t=>{const a=JSON.parse(JSON.stringify(o.data));C(a,t.node.path,t.value),i("update:data",a)},m=t=>{const a=JSON.parse(JSON.stringify(o.data));f(a,t.path),i("update:data",a)},y=t=>{const a=JSON.parse(JSON.stringify(o.data)),s=t.parent.path,c=ne(a,s);Array.isArray(c)?c.push(t.value):typeof c=="object"&&(c[t.key]=t.value),i("update:data",a)},C=(t,a,s)=>{const c=a[a.length-1],V=a.slice(0,-1).reduce((w,$)=>w[$],t);V[c]=s},f=(t,a)=>{const s=a[a.length-1],c=a.slice(0,-1).reduce((V,w)=>V[w],t);Array.isArray(c)?c.splice(parseInt(s),1):delete c[s]},ne=(t,a)=>a.reduce((s,c)=>s[c],t);return e.watch(()=>o.data,t=>{_.value=b(t),N.value=JSON.stringify(t,null,2)},{deep:!0,immediate:!0}),e.onMounted(()=>{_.value=b(o.data),N.value=JSON.stringify(o.data,null,2)}),(t,a)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["json-viewer",`theme-${t.theme}`])},[e.createElementVNode("div",St,[e.createElementVNode("div",jt,[e.createElementVNode("div",Tt,[e.createElementVNode("button",{class:e.normalizeClass(["mode-btn",{active:v.value==="tree"}]),onClick:a[0]||(a[0]=s=>I("tree"))},[e.createVNode(e.unref(ae)),t.hideActionText?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("span",Jt,"Tree"))],2),e.createElementVNode("button",{class:e.normalizeClass(["mode-btn",{active:v.value==="text"}]),onClick:a[1]||(a[1]=s=>I("text"))},[e.createVNode(e.unref(ie)),t.hideActionText?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("span",Mt,"Text"))],2)])]),e.createElementVNode("div",At,[v.value==="tree"?(e.openBlock(),e.createElementBlock("div",Ot,[e.createElementVNode("button",{class:"control-btn",onClick:T,title:"Expand All"},[e.createVNode(e.unref(Y)),t.hideActionText?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("span",Dt,"Expand All"))]),e.createElementVNode("button",{class:"control-btn",onClick:Q,title:"Collapse All"},[e.createVNode(e.unref(Z)),t.hideActionText?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("span",It,"Collapse All"))])])):e.createCommentVNode("",!0),e.createElementVNode("div",Kt,[e.createElementVNode("button",{class:e.normalizeClass(["control-btn",{active:k.value}]),onClick:H,title:"Toggle Edit Mode"},[e.createVNode(e.unref(ge)),t.hideActionText?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("span",Lt,e.toDisplayString(k.value?"Exit Edit":"Edit"),1))],2),k.value?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("button",{class:"control-btn save-btn",onClick:P,title:"Save Changes"},[e.createVNode(e.unref(Ve)),t.hideActionText?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("span",zt,"Save"))]),e.createElementVNode("button",{class:"control-btn cancel-btn",onClick:K,title:"Cancel Changes"},[e.createVNode(e.unref(Ce)),t.hideActionText?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("span",Ft,"Cancel"))])],64)):e.createCommentVNode("",!0)])]),e.createElementVNode("div",Ut,[e.createElementVNode("div",Ht,[e.createElementVNode("button",{class:"control-btn",onClick:L,title:"Copy JSON"},[e.createVNode(e.unref(Te))]),e.createElementVNode("button",{class:"control-btn",onClick:R,title:"Download JSON"},[e.createVNode(e.unref(Oe))]),e.createElementVNode("button",{class:"control-btn",onClick:z,title:"Toggle Theme"},[e.createVNode(e.unref(Le))])])])]),e.createElementVNode("div",qt,[h.value?(e.openBlock(),e.createElementBlock("div",Pt,[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":a[2]||(a[2]=s=>E.value=s),type:"text",placeholder:"Search JSON...",class:"search-input"},null,512),[[e.vModelText,E.value]]),e.createElementVNode("button",{class:"search-btn",onClick:J},[e.createVNode(e.unref(Re))])])):e.createCommentVNode("",!0),v.value==="tree"?(e.openBlock(),e.createElementBlock("div",Qt,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(_.value,(s,c)=>(e.openBlock(),e.createBlock(ee,{key:`${s.path.join(".")}-${c}`,node:s,editable:k.value,"search-query":E.value,onNodeClick:A,onNodeExpand:j,onNodeCollapse:n,onValueChange:r,onNodeDelete:m,onNodeAdd:y},null,8,["node","editable","search-query"]))),128))])):(e.openBlock(),e.createElementBlock("div",Rt,[e.createElementVNode("div",{class:e.normalizeClass(["text-editor",{"with-line-numbers":t.showLineNumbers}])},[k.value?e.withDirectives((e.openBlock(),e.createElementBlock("textarea",{key:0,"onUpdate:modelValue":a[3]||(a[3]=s=>N.value=s),class:e.normalizeClass(["json-textarea",{error:u.value}]),onInput:X},null,34)),[[e.vModelText,N.value]]):(e.openBlock(),e.createElementBlock("div",Xt,[t.showLineNumbers?(e.openBlock(),e.createElementBlock("div",Gt,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(U.value,s=>(e.openBlock(),e.createElementBlock("span",{key:s,class:"line-number"},e.toDisplayString(s),1))),128))])):e.createCommentVNode("",!0),e.createElementVNode("pre",Wt,[e.createElementVNode("code",{innerHTML:F.value},null,8,Yt)])]))],2),u.value?(e.openBlock(),e.createElementBlock("div",Zt," Invalid JSON: "+e.toDisplayString(x.value),1)):e.createCommentVNode("",!0)]))]),e.createElementVNode("div",en,[e.createElementVNode("div",tn,[e.createElementVNode("span",nn,[a[4]||(a[4]=e.createTextVNode(" Mode: ",-1)),e.createElementVNode("strong",null,e.toDisplayString(v.value),1)]),e.createElementVNode("span",on,[a[5]||(a[5]=e.createTextVNode(" Size: ",-1)),e.createElementVNode("strong",null,e.toDisplayString(W(B.value)),1)]),v.value==="tree"?(e.openBlock(),e.createElementBlock("span",ln,[a[6]||(a[6]=e.createTextVNode(" Nodes: ",-1)),e.createElementVNode("strong",null,e.toDisplayString(D.value),1)])):e.createCommentVNode("",!0)]),e.createElementVNode("div",rn,[e.createElementVNode("button",{class:"footer-btn",onClick:J},[e.createVNode(e.unref(He)),t.hideActionText?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("span",an,"Search"))])])])],2))}});const te=p(sn,[["__scopeId","data-v-5611f639"]]);exports.JsonNode=ee;exports.JsonViewer=te;exports.default=te;
