"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),p=(d,l)=>{const n=d.__vccOpts||d;for(const[i,B]of l)n[i]=B;return n},de={},ie={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"};function ue(d,l){return e.openBlock(),e.createElementBlock("svg",ie,l[0]||(l[0]=[e.createElementVNode("circle",{cx:"12",cy:"12",r:"3"},null,-1),e.createElementVNode("line",{x1:"12",y1:"15",x2:"12",y2:"21"},null,-1),e.createElementVNode("line",{x1:"12",y1:"9",x2:"12",y2:"3"},null,-1)]))}const pe=p(de,[["render",ue]]),me={},ye={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"};function he(d,l){return e.openBlock(),e.createElementBlock("svg",ye,l[0]||(l[0]=[e.createElementVNode("polyline",{points:"16,18 22,12 16,6"},null,-1),e.createElementVNode("polyline",{points:"8,6 2,12 8,18"},null,-1)]))}const ke=p(me,[["render",he]]),fe={},ve={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"};function Be(d,l){return e.openBlock(),e.createElementBlock("svg",ve,l[0]||(l[0]=[e.createElementVNode("polyline",{points:"7,13 12,18 17,13"},null,-1),e.createElementVNode("polyline",{points:"7,6 12,11 17,6"},null,-1)]))}const oe=p(fe,[["render",Be]]),Ne={},ge={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"};function Ee(d,l){return e.openBlock(),e.createElementBlock("svg",ge,l[0]||(l[0]=[e.createElementVNode("polyline",{points:"17,11 12,6 7,11"},null,-1),e.createElementVNode("polyline",{points:"17,18 12,13 7,18"},null,-1)]))}const le=p(Ne,[["render",Ee]]),Ve={},_e={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"};function we(d,l){return e.openBlock(),e.createElementBlock("svg",_e,l[0]||(l[0]=[e.createElementVNode("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},null,-1),e.createElementVNode("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},null,-1)]))}const Ce=p(Ve,[["render",we]]),be={},xe={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"};function $e(d,l){return e.openBlock(),e.createElementBlock("svg",xe,l[0]||(l[0]=[e.createElementVNode("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},null,-1),e.createElementVNode("polyline",{points:"17,21 17,13 7,13 7,21"},null,-1),e.createElementVNode("polyline",{points:"7,3 7,8 15,8"},null,-1)]))}const Se=p(be,[["render",$e]]),je={},Te={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"};function Ae(d,l){return e.openBlock(),e.createElementBlock("svg",Te,l[0]||(l[0]=[e.createElementVNode("circle",{cx:"12",cy:"12",r:"10"},null,-1),e.createElementVNode("line",{x1:"15",y1:"9",x2:"9",y2:"15"},null,-1),e.createElementVNode("line",{x1:"9",y1:"9",x2:"15",y2:"15"},null,-1)]))}const Je=p(je,[["render",Ae]]),Me={},Oe={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"};function De(d,l){return e.openBlock(),e.createElementBlock("svg",Oe,l[0]||(l[0]=[e.createElementVNode("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},null,-1),e.createElementVNode("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},null,-1)]))}const Ie=p(Me,[["render",De]]),Ke={},Le={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"};function ze(d,l){return e.openBlock(),e.createElementBlock("svg",Le,l[0]||(l[0]=[e.createElementVNode("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},null,-1),e.createElementVNode("polyline",{points:"7,10 12,15 17,10"},null,-1),e.createElementVNode("line",{x1:"12",y1:"15",x2:"12",y2:"3"},null,-1)]))}const Fe=p(Ke,[["render",ze]]),He={},Ue={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"};function qe(d,l){return e.openBlock(),e.createElementBlock("svg",Ue,l[0]||(l[0]=[e.createElementVNode("circle",{cx:"11",cy:"11",r:"8"},null,-1),e.createElementVNode("path",{d:"M21 21l-4.35-4.35"},null,-1)]))}const Pe=p(He,[["render",qe]]),Qe={},Re={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"};function Xe(d,l){return e.openBlock(),e.createElementBlock("svg",Re,l[0]||(l[0]=[e.createElementVNode("line",{x1:"18",y1:"6",x2:"6",y2:"18"},null,-1),e.createElementVNode("line",{x1:"6",y1:"6",x2:"18",y2:"18"},null,-1)]))}const Ge=p(Qe,[["render",Xe]]),We={},Ye={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"};function Ze(d,l){return e.openBlock(),e.createElementBlock("svg",Ye,l[0]||(l[0]=[e.createElementVNode("polyline",{points:"9,18 15,12 9,6"},null,-1)]))}const et=p(We,[["render",Ze]]),tt={},nt={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"};function ot(d,l){return e.openBlock(),e.createElementBlock("svg",nt,l[0]||(l[0]=[e.createElementVNode("polyline",{points:"6,9 12,15 18,9"},null,-1)]))}const lt=p(tt,[["render",ot]]),rt={},at={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"};function ct(d,l){return e.openBlock(),e.createElementBlock("svg",at,l[0]||(l[0]=[e.createElementVNode("line",{x1:"12",y1:"5",x2:"12",y2:"19"},null,-1),e.createElementVNode("line",{x1:"5",y1:"12",x2:"19",y2:"12"},null,-1)]))}const st=p(rt,[["render",ct]]),dt={},it={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"};function ut(d,l){return e.openBlock(),e.createElementBlock("svg",it,l[0]||(l[0]=[e.createElementVNode("polyline",{points:"3,6 5,6 21,6"},null,-1),e.createElementVNode("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},null,-1),e.createElementVNode("line",{x1:"10",y1:"11",x2:"10",y2:"17"},null,-1),e.createElementVNode("line",{x1:"14",y1:"11",x2:"14",y2:"17"},null,-1)]))}const pt=p(dt,[["render",ut]]),mt={},yt={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"};function ht(d,l){return e.openBlock(),e.createElementBlock("svg",yt,l[0]||(l[0]=[e.createElementVNode("polyline",{points:"20,6 9,17 4,12"},null,-1)]))}const kt=p(mt,[["render",ht]]),ft={},vt={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"};function Bt(d,l){return e.openBlock(),e.createElementBlock("svg",vt,l[0]||(l[0]=[e.createElementVNode("line",{x1:"18",y1:"6",x2:"6",y2:"18"},null,-1),e.createElementVNode("line",{x1:"6",y1:"6",x2:"18",y2:"18"},null,-1)]))}const Nt=p(ft,[["render",Bt]]),gt={},Et={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"};function Vt(d,l){return e.openBlock(),e.createElementBlock("svg",Et,l[0]||(l[0]=[e.createElementVNode("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"},null,-1)]))}const _t=p(gt,[["render",Vt]]),wt={},Ct={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"};function bt(d,l){return e.openBlock(),e.createElementBlock("svg",Ct,l[0]||(l[0]=[e.createStaticVNode('<circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>',9)]))}const xt=p(wt,[["render",bt]]),$t={key:0,class:"expand-icon"},St={key:1,class:"expand-placeholder"},jt={class:"node-value"},Tt=["type"],At={key:2,class:"node-controls"},Jt=["title"],Mt={key:0,class:"children"},Ot={key:0,class:"add-form"},Dt={key:1,class:"colon"},It={class:"add-controls"},Kt=e.defineComponent({__name:"JsonNode",props:{node:{},editable:{type:Boolean,default:!1},searchQuery:{default:""}},emits:["node-click","node-expand","node-collapse","value-change","key-change","node-delete","node-add"],setup(d,{emit:l}){const n=d,i=l,B=e.ref(!1),E=e.ref(!1),b=e.ref(""),N=e.ref(""),_=e.ref(!1),w=e.ref(""),u=e.ref(""),j=e.ref(),x=e.ref(),$=e.computed(()=>n.node.type==="object"||n.node.type==="array"),L=e.computed(()=>n.node.level>0),P=e.computed(()=>n.node.level===0?n.node.type==="array"?"Array":"Object":R()==="array"?`[${n.node.key}]`:`"${n.node.key}"`),Q=e.computed(()=>{if(!n.searchQuery)return!1;const o=n.searchQuery.toLowerCase(),a=n.node.key.toLowerCase().includes(o),m=typeof n.node.value=="string"&&n.node.value.toLowerCase().includes(o);return a||m}),z=e.computed(()=>!n.node.children||!n.searchQuery?n.node.children||[]:n.node.children.filter(o=>{const a=n.searchQuery.toLowerCase(),m=o.key.toLowerCase().includes(a),h=typeof o.value=="string"&&o.value.toLowerCase().includes(a),A=M(o,a);return m||h||A})),R=()=>n.node.path.length<=1?null:"object",X=()=>n.node.type==="array"?`Array[${Array.isArray(n.node.value)?n.node.value.length:0}]`:n.node.type==="object"?`Object{${n.node.value&&typeof n.node.value=="object"?Object.keys(n.node.value).length:0}}`:"",G=o=>o===null?"null":typeof o=="string"?`"${o}"`:typeof o=="boolean"||typeof o=="number"?o.toString():String(o),F=()=>{switch(n.node.type){case"number":return"number";case"boolean":return"checkbox";default:return"text"}},M=(o,a)=>o.children?o.children.some(m=>{const h=m.key.toLowerCase().includes(a),A=typeof m.value=="string"&&m.value.toLowerCase().includes(a),y=M(m,a);return h||A||y}):!1,W=()=>{$.value&&H(),i("node-click",n.node)},H=()=>{n.node.expanded?i("node-collapse",n.node):i("node-expand",n.node)},Y=()=>{!n.editable||!L.value||(b.value=n.node.key,B.value=!0,e.nextTick(()=>{var o,a;(o=j.value)==null||o.focus(),(a=j.value)==null||a.select()}))},U=()=>{b.value!==n.node.key&&i("key-change",{node:n.node,oldKey:n.node.key,newKey:b.value}),O()},O=()=>{B.value=!1,b.value=""},Z=()=>{if(!(!n.editable||$.value)){if(n.node.type==="boolean"){i("value-change",{node:n.node,value:!n.node.value});return}N.value=n.node.type==="string"?n.node.value:String(n.node.value),E.value=!0,e.nextTick(()=>{var o,a;(o=x.value)==null||o.focus(),(a=x.value)==null||a.select()})}},D=()=>{let o=N.value;try{switch(n.node.type){case"number":if(o=parseFloat(N.value),isNaN(o)){alert("Invalid number format");return}break;case"boolean":o=N.value==="true";break;case"string":o=N.value;break;default:o=JSON.parse(N.value)}i("value-change",{node:n.node,value:o})}catch(a){console.error(a);return}T()},T=()=>{E.value=!1,N.value=""},q=()=>{confirm("Are you sure you want to delete this item?")&&i("node-delete",n.node)},ee=()=>{_.value=!0,w.value="",u.value="",n.node.type==="array"?e.nextTick(()=>{const o=document.querySelector(".add-form .value-input");o==null||o.focus()}):e.nextTick(()=>{const o=document.querySelector(".add-form .key-input");o==null||o.focus()})},I=()=>{var o;try{let a=w.value,m=u.value;if(n.node.type==="object"&&!a.trim()){alert("Key is required for object properties");return}n.node.type==="array"&&(a=(((o=n.node.children)==null?void 0:o.length)||0).toString());try{m=JSON.parse(u.value)}catch{u.value==="true"||u.value==="false"?m=u.value==="true":!isNaN(Number(u.value))&&u.value.trim()!==""?m=Number(u.value):u.value==="null"?m=null:m=u.value}i("node-add",{parent:n.node,key:a,value:m}),J()}catch(a){console.error(a)}},J=()=>{_.value=!1,w.value="",u.value=""};return e.watch(()=>n.searchQuery,o=>{o&&$.value&&M(n.node,o.toLowerCase())&&i("node-expand",n.node)}),(o,a)=>{const m=e.resolveComponent("JsonNode",!0);return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["json-node",`level-${o.node.level}`])},[e.createElementVNode("div",{class:e.normalizeClass(["node-header",{expandable:$.value,expanded:o.node.expanded,highlighted:Q.value}]),onClick:W},[e.createElementVNode("div",{class:"indentation",style:e.normalizeStyle({width:`${o.node.level*20}px`})},null,4),$.value?(e.openBlock(),e.createElementBlock("div",$t,[o.node.expanded?(e.openBlock(),e.createBlock(e.unref(lt),{key:1})):(e.openBlock(),e.createBlock(e.unref(et),{key:0}))])):(e.openBlock(),e.createElementBlock("div",St)),e.createElementVNode("span",{class:e.normalizeClass(["node-key",{editable:o.editable&&L.value}])},[B.value?e.withDirectives((e.openBlock(),e.createElementBlock("input",{key:0,"onUpdate:modelValue":a[0]||(a[0]=h=>b.value=h),onBlur:U,onKeydown:[e.withKeys(U,["enter"]),e.withKeys(O,["escape"])],class:"key-input",ref_key:"keyInput",ref:j},null,544)),[[e.vModelText,b.value]]):(e.openBlock(),e.createElementBlock("span",{key:1,onDblclick:Y},e.toDisplayString(P.value),33))],2),a[11]||(a[11]=e.createElementVNode("span",{class:"colon"},":",-1)),e.createElementVNode("div",jt,[$.value?(e.openBlock(),e.createElementBlock("span",{key:1,class:e.normalizeClass(["value-summary",`value-${o.node.type}`])},e.toDisplayString(X()),3)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[E.value?e.withDirectives((e.openBlock(),e.createElementBlock("input",{key:0,"onUpdate:modelValue":a[1]||(a[1]=h=>N.value=h),type:F(),onBlur:D,onKeydown:[e.withKeys(D,["enter"]),e.withKeys(T,["escape"])],class:e.normalizeClass(["value-input",`value-${o.node.type}`]),ref_key:"valueInput",ref:x},null,42,Tt)),[[e.vModelDynamic,N.value]]):(e.openBlock(),e.createElementBlock("span",{key:1,class:e.normalizeClass(["value-display",`value-${o.node.type}`,{editable:o.editable}]),onDblclick:Z},e.toDisplayString(G(o.node.value)),35))],64))]),o.editable?(e.openBlock(),e.createElementBlock("div",At,[$.value?(e.openBlock(),e.createElementBlock("button",{key:0,onClick:e.withModifiers(H,["stop"]),class:"control-icon",title:o.node.expanded?"Collapse":"Expand"},[o.node.expanded?(e.openBlock(),e.createBlock(e.unref(le),{key:0})):(e.openBlock(),e.createBlock(e.unref(oe),{key:1}))],8,Jt)):e.createCommentVNode("",!0),o.node.type==="object"||o.node.type==="array"?(e.openBlock(),e.createElementBlock("button",{key:1,onClick:e.withModifiers(ee,["stop"]),class:"control-icon add-icon",title:"Add Item"},[e.createVNode(e.unref(st))])):e.createCommentVNode("",!0),e.createElementVNode("button",{onClick:e.withModifiers(q,["stop"]),class:"control-icon delete-icon",title:"Delete"},[e.createVNode(e.unref(pt))])])):e.createCommentVNode("",!0)],2),$.value&&o.node.expanded&&o.node.children?(e.openBlock(),e.createElementBlock("div",Mt,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(z.value,(h,A)=>(e.openBlock(),e.createBlock(m,{key:`${h.path.join(".")}-${A}`,node:h,editable:o.editable,"search-query":o.searchQuery,onNodeClick:a[2]||(a[2]=y=>o.$emit("node-click",y)),onNodeExpand:a[3]||(a[3]=y=>o.$emit("node-expand",y)),onNodeCollapse:a[4]||(a[4]=y=>o.$emit("node-collapse",y)),onValueChange:a[5]||(a[5]=y=>o.$emit("value-change",y)),onKeyChange:a[6]||(a[6]=y=>o.$emit("key-change",y)),onNodeDelete:a[7]||(a[7]=y=>o.$emit("node-delete",y)),onNodeAdd:a[8]||(a[8]=y=>o.$emit("node-add",y))},null,8,["node","editable","search-query"]))),128)),_.value?(e.openBlock(),e.createElementBlock("div",Ot,[e.createElementVNode("div",{class:"indentation",style:e.normalizeStyle({width:`${(o.node.level+1)*20}px`})},null,4),a[12]||(a[12]=e.createElementVNode("div",{class:"expand-placeholder"},null,-1)),o.node.type==="object"?e.withDirectives((e.openBlock(),e.createElementBlock("input",{key:0,"onUpdate:modelValue":a[9]||(a[9]=h=>w.value=h),placeholder:"Key",class:"key-input",onKeydown:[e.withKeys(I,["enter"]),e.withKeys(J,["escape"])]},null,544)),[[e.vModelText,w.value]]):e.createCommentVNode("",!0),o.node.type==="object"?(e.openBlock(),e.createElementBlock("span",Dt,":")):e.createCommentVNode("",!0),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":a[10]||(a[10]=h=>u.value=h),placeholder:"Value",class:"value-input",onKeydown:[e.withKeys(I,["enter"]),e.withKeys(J,["escape"])]},null,544),[[e.vModelText,u.value]]),e.createElementVNode("div",It,[e.createElementVNode("button",{onClick:I,class:"add-btn",title:"Add"},[e.createVNode(e.unref(kt))]),e.createElementVNode("button",{onClick:J,class:"cancel-btn",title:"Cancel"},[e.createVNode(e.unref(Nt))])])])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)],2)}}});const re=p(Kt,[["__scopeId","data-v-f06c026c"]]),Lt={key:0,class:"menu-bar"},zt={key:0,class:"mode-switcher"},Ft={key:0},Ht={key:0},Ut={key:1,class:"tree-controls"},qt={key:0},Pt={key:0},Qt={key:2,class:"edit-controls"},Rt={key:0},Xt={key:0},Gt={key:0},Wt={class:"additional-controls"},Yt={key:0},Zt=["title"],en={class:"view-area"},tn={key:0,class:"search-bar"},nn={key:1,class:"tree-view"},on={key:2,class:"text-view"},ln={key:1,class:"json-display-container"},rn={key:0,class:"line-numbers"},an={class:"json-display"},cn=["innerHTML"],sn={key:0,class:"json-error-message"},dn={key:1,class:"footer"},un={class:"footer-info"},pn={class:"info-item"},mn={class:"info-item"},yn={key:0,class:"info-item"},hn=e.defineComponent({__name:"JsonViewer",props:{data:{},editable:{type:Boolean,default:!0},theme:{default:"light"},defaultMode:{default:"tree"},showLineNumbers:{type:Boolean,default:!1},maxDepth:{default:3},hideActionText:{type:Boolean,default:!1},hideHeader:{type:Boolean,default:!1},hideFooter:{type:Boolean,default:!1},hideModeSwitcher:{type:Boolean,default:!1},hideTreeControls:{type:Boolean,default:!1},hideEditControls:{type:Boolean,default:!1},hideSearchButton:{type:Boolean,default:!1},hideCopyButton:{type:Boolean,default:!1},hideDownloadButton:{type:Boolean,default:!1},hideThemeButton:{type:Boolean,default:!1}},emits:["update:data","node-click","node-expand","node-collapse","key-change","edit-start","edit-save","edit-cancel","theme-change"],setup(d,{emit:l}){const n=d,i=l,B=e.ref(n.defaultMode),E=e.ref(!1),b=e.ref(""),N=e.ref(!1),_=e.ref(""),w=e.ref(null),u=e.ref(!1),j=e.ref(""),x=e.ref([]),$=e.computed(()=>JSON.stringify(n.data).length),L=e.computed(()=>{const t=r=>{let c=r.length;return r.forEach(s=>{s.children&&(c+=t(s.children))}),c};return t(x.value)}),P=e.computed(()=>{if(!n.data)return"";const t=JSON.stringify(n.data,null,2);return ee(t)}),Q=e.computed(()=>{if(!n.data||!n.showLineNumbers)return[];const r=JSON.stringify(n.data,null,2).split(`
`);return Array.from({length:r.length},(c,s)=>s+1)}),z=t=>{B.value=t},R=()=>{E.value?F():X()},X=()=>{w.value=JSON.parse(JSON.stringify(n.data)),_.value=JSON.stringify(n.data,null,2),E.value=!0,i("edit-start")},G=()=>{if(B.value==="text"){if(u.value){alert("Please fix JSON errors before saving");return}try{const t=JSON.parse(_.value);i("update:data",t)}catch{alert("Invalid JSON format");return}}E.value=!1,w.value=null,i("edit-save",n.data)},F=()=>{w.value&&(i("update:data",w.value),_.value=JSON.stringify(w.value,null,2)),E.value=!1,w.value=null,u.value=!1,j.value="",i("edit-cancel")},M=()=>{const t=r=>{r.forEach(c=>{(c.type==="object"||c.type==="array")&&(c.expanded=!0,c.children&&t(c.children))})};t(x.value)},W=()=>{const t=r=>{r.forEach(c=>{(c.type==="object"||c.type==="array")&&(c.expanded=!1,c.children&&t(c.children))})};t(x.value)},H=async()=>{try{const t=JSON.stringify(n.data,null,2);await navigator.clipboard.writeText(t);const r=document.querySelector(".copy-btn");r&&(r.classList.add("copied"),setTimeout(()=>{r.classList.remove("copied")},1500))}catch(t){console.error("Failed to copy to clipboard:",t)}},Y=()=>{const t=JSON.stringify(n.data,null,2),r=new Blob([t],{type:"application/json"}),c=URL.createObjectURL(r),s=document.createElement("a");s.href=c,s.download="data.json",document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(c)},U=()=>{const t=n.theme==="light"?"dark":"light";i("theme-change",t)},O=()=>{N.value=!N.value,N.value||(b.value="")},Z=()=>{try{JSON.parse(_.value),u.value=!1,j.value=""}catch(t){u.value=!0,j.value=t.message}},D=(t,r=[],c=0,s)=>{if(t===null)return[{key:"",value:null,type:"null",path:r,level:c}];if(c===0&&(Array.isArray(t)||typeof t=="object"&&t!==null)){const v=Array.isArray(t)?"array":"object",g=s&&s[0],k=g?g.expanded:!0;return[{key:v==="array"?"Array":"Object",value:t,type:v,path:[],level:0,expanded:k,children:T(t,[],1,g==null?void 0:g.children)}]}return T(t,r,c,s)},T=(t,r=[],c=0,s)=>{const v=[],g=(k,f)=>{if(k)return k.find(C=>C.path.length===f.length&&C.path.every((S,V)=>S===f[V]))};return Array.isArray(t)?t.forEach((k,f)=>{const C=[...r,f.toString()],S=q(k),V=g(s,C),te=V?V.expanded:c<n.maxDepth,K={key:f.toString(),value:k,type:S,path:C,level:c,expanded:te};(S==="object"||S==="array")&&(K.children=T(k,C,c+1,V==null?void 0:V.children)),v.push(K)}):typeof t=="object"&&t!==null&&Object.entries(t).forEach(([k,f])=>{const C=[...r,k],S=q(f),V=g(s,C),te=V?V.expanded:c<n.maxDepth,K={key:k,value:f,type:S,path:C,level:c,expanded:te};(S==="object"||S==="array")&&(K.children=T(f,C,c+1,V==null?void 0:V.children)),v.push(K)}),v},q=t=>t===null?"null":Array.isArray(t)?"array":typeof t=="object"?"object":typeof t=="string"?"string":typeof t=="number"?"number":typeof t=="boolean"?"boolean":"string",ee=t=>t.replace(/("[\w\s]*")\s*:/g,'<span class="json-key">$1</span>:').replace(/:\s*(".*?")/g,': <span class="json-string">$1</span>').replace(/:\s*(true|false)/g,': <span class="json-boolean">$1</span>').replace(/:\s*(null)/g,': <span class="json-null">$1</span>').replace(/:\s*(\d+\.?\d*)/g,': <span class="json-number">$1</span>'),I=t=>t<1024?`${t} B`:t<1024*1024?`${(t/1024).toFixed(1)} KB`:`${(t/(1024*1024)).toFixed(1)} MB`,J=t=>{i("node-click",t)},o=t=>{t.expanded=!0,i("node-expand",t)},a=t=>{t.expanded=!1,i("node-collapse",t)},m=t=>{const r=JSON.parse(JSON.stringify(n.data));ce(r,t.node.path,t.value),i("update:data",r)},h=t=>{const r=JSON.parse(JSON.stringify(n.data)),c=t.node.path.slice(0,-1),s=ne(r,c);if(s&&typeof s=="object"&&!Array.isArray(s)){const v=Object.keys(s),g=v.map(f=>s[f]),k=v.indexOf(t.oldKey);if(k!==-1){v[k]=t.newKey;for(const f of Object.keys(s))delete s[f];v.forEach((f,C)=>{s[f]=g[C]}),t.node.path[t.node.path.length-1]=t.newKey}}i("update:data",r)},A=t=>{const r=JSON.parse(JSON.stringify(n.data));se(r,t.path),i("update:data",r)},y=t=>{const r=JSON.parse(JSON.stringify(n.data)),c=t.parent.path,s=ne(r,c);Array.isArray(s)?s.push(t.value):typeof s=="object"&&(s[t.key]=t.value),i("update:data",r)},ce=(t,r,c)=>{const s=r[r.length-1],v=r.slice(0,-1).reduce((g,k)=>g[k],t);v[s]=c},se=(t,r)=>{const c=r[r.length-1],s=r.slice(0,-1).reduce((v,g)=>v[g],t);Array.isArray(s)?s.splice(parseInt(c),1):delete s[c]},ne=(t,r)=>r.reduce((c,s)=>c[s],t);return e.watch(()=>n.data,t=>{x.value=D(t,[],0,x.value),_.value=JSON.stringify(t,null,2)},{deep:!0,immediate:!0}),e.onMounted(()=>{x.value=D(n.data),_.value=JSON.stringify(n.data,null,2)}),(t,r)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["json-viewer",`theme-${t.theme}`,{"no-header":t.hideHeader,"no-footer":t.hideFooter}])},[t.hideHeader?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Lt,[t.hideModeSwitcher?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",zt,[e.createElementVNode("button",{class:e.normalizeClass(["mode-btn",{active:B.value==="tree"}]),onClick:r[0]||(r[0]=c=>z("tree"))},[e.createVNode(e.unref(pe)),t.hideActionText?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("span",Ft,"Tree"))],2),e.createElementVNode("button",{class:e.normalizeClass(["mode-btn",{active:B.value==="text"}]),onClick:r[1]||(r[1]=c=>z("text"))},[e.createVNode(e.unref(ke)),t.hideActionText?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("span",Ht,"Text"))],2)])),!t.hideTreeControls&&B.value==="tree"?(e.openBlock(),e.createElementBlock("div",Ut,[e.createElementVNode("button",{class:"control-btn",onClick:M,title:"Expand All"},[e.createVNode(e.unref(oe)),t.hideActionText?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("span",qt,"Expand All"))]),e.createElementVNode("button",{class:"control-btn",onClick:W,title:"Collapse All"},[e.createVNode(e.unref(le)),t.hideActionText?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("span",Pt,"Collapse All"))])])):e.createCommentVNode("",!0),t.hideEditControls?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Qt,[e.createElementVNode("button",{class:e.normalizeClass(["control-btn",{active:E.value}]),onClick:R,title:"Toggle Edit Mode"},[e.createVNode(e.unref(Ce)),t.hideActionText?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("span",Rt,e.toDisplayString(E.value?"Exit Edit":"Edit"),1))],2),E.value?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("button",{class:"control-btn save-btn",onClick:G,title:"Save Changes"},[e.createVNode(e.unref(Se)),t.hideActionText?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("span",Xt,"Save"))]),e.createElementVNode("button",{class:"control-btn cancel-btn",onClick:F,title:"Cancel Changes"},[e.createVNode(e.unref(Je)),t.hideActionText?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("span",Gt,"Cancel"))])],64)):e.createCommentVNode("",!0)])),e.createElementVNode("div",Wt,[t.hideSearchButton?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:0,class:"control-btn",onClick:O,title:"Search JSON"},[e.createVNode(e.unref(Pe)),t.hideActionText?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("span",Yt,"Search"))])),t.hideCopyButton?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:1,class:"control-btn copy-btn",onClick:H,title:"Copy JSON"},[e.createVNode(e.unref(Ie))])),t.hideDownloadButton?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:2,class:"control-btn",onClick:Y,title:"Download JSON"},[e.createVNode(e.unref(Fe))])),t.hideThemeButton?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:3,class:"control-btn",onClick:U,title:n.theme==="light"?"Switch to Dark Theme":"Switch to Light Theme"},[n.theme==="light"?(e.openBlock(),e.createBlock(e.unref(_t),{key:0,class:"theme-icon"})):(e.openBlock(),e.createBlock(e.unref(xt),{key:1,class:"theme-icon"}))],8,Zt))])])),e.createElementVNode("div",en,[N.value?(e.openBlock(),e.createElementBlock("div",tn,[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":r[2]||(r[2]=c=>b.value=c),type:"text",placeholder:"Search JSON...",class:"search-input"},null,512),[[e.vModelText,b.value]]),e.createElementVNode("button",{class:"search-btn",onClick:O},[e.createVNode(e.unref(Ge))])])):e.createCommentVNode("",!0),B.value==="tree"?(e.openBlock(),e.createElementBlock("div",nn,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(x.value,(c,s)=>(e.openBlock(),e.createBlock(re,{key:`${c.path.join(".")}-${s}`,node:c,editable:E.value,"search-query":b.value,onNodeClick:J,onNodeExpand:o,onNodeCollapse:a,onValueChange:m,onKeyChange:h,onNodeDelete:A,onNodeAdd:y},null,8,["node","editable","search-query"]))),128))])):(e.openBlock(),e.createElementBlock("div",on,[e.createElementVNode("div",{class:e.normalizeClass(["text-editor",{"with-line-numbers":t.showLineNumbers}])},[E.value?e.withDirectives((e.openBlock(),e.createElementBlock("textarea",{key:0,"onUpdate:modelValue":r[3]||(r[3]=c=>_.value=c),class:e.normalizeClass(["json-textarea",{error:u.value}]),onInput:Z},null,34)),[[e.vModelText,_.value]]):(e.openBlock(),e.createElementBlock("div",ln,[t.showLineNumbers?(e.openBlock(),e.createElementBlock("div",rn,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(Q.value,c=>(e.openBlock(),e.createElementBlock("span",{key:c,class:"line-number"},e.toDisplayString(c),1))),128))])):e.createCommentVNode("",!0),e.createElementVNode("pre",an,[e.createElementVNode("code",{innerHTML:P.value},null,8,cn)])]))],2),u.value?(e.openBlock(),e.createElementBlock("div",sn," Invalid JSON: "+e.toDisplayString(j.value),1)):e.createCommentVNode("",!0)]))]),t.hideFooter?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",dn,[e.createElementVNode("div",un,[e.createElementVNode("span",pn,[r[4]||(r[4]=e.createTextVNode(" Mode: ",-1)),e.createElementVNode("strong",null,e.toDisplayString(B.value),1)]),e.createElementVNode("span",mn,[r[5]||(r[5]=e.createTextVNode(" Size: ",-1)),e.createElementVNode("strong",null,e.toDisplayString(I($.value)),1)]),B.value==="tree"?(e.openBlock(),e.createElementBlock("span",yn,[r[6]||(r[6]=e.createTextVNode(" Nodes: ",-1)),e.createElementVNode("strong",null,e.toDisplayString(L.value),1)])):e.createCommentVNode("",!0)])]))],2))}});const ae=p(hn,[["__scopeId","data-v-6c5bc92a"]]);exports.JsonNode=re;exports.JsonViewer=ae;exports.default=ae;
